<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.StackPane?>

<VBox alignment="TOP_LEFT" spacing="12.0" xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.tick.elp.Controller.MistakeController">
    <padding>
        <Insets bottom="16.0" left="16.0" right="16.0" top="16.0"/>
    </padding>

    <Label text="错题本" styleClass="header-label" />

    <HBox spacing="8.0">
        <Button text="刷新" onAction="#onRefreshButtonClick" styleClass="button" />
        <Button text="删除选中" onAction="#onDeleteButtonClick" styleClass="button" />
        <Button text="开始学习" onAction="#onStartLearningClick" styleClass="button" />
    </HBox>

    <!-- 错题列表模式 -->
    <VBox fx:id="listMode" spacing="8.0" VBox.vgrow="ALWAYS">
        <ListView fx:id="mistakeListView" VBox.vgrow="ALWAYS" />
        <Label fx:id="statusLabel" text="" />
    </VBox>

    <!-- 学习模式 -->
    <VBox fx:id="learningMode" spacing="12.0" VBox.vgrow="ALWAYS" visible="false" managed="false">
        <HBox spacing="8.0" alignment="CENTER_LEFT">
            <Label fx:id="progressLabel" text="进度: 0/0" styleClass="progress-label" />
            <Button text="退出学习" onAction="#onExitLearningClick" styleClass="button" />
        </HBox>
        
        <VBox spacing="8.0" alignment="CENTER" VBox.vgrow="ALWAYS">
            <Label fx:id="wordLabel" text="" styleClass="word-display" />
            
            <StackPane>
                <TextArea fx:id="translationArea" editable="false" wrapText="true" 
                          prefHeight="150.0" visible="false" styleClass="text-area" />
                <Label fx:id="hiddenHint" text="点击「显示翻译」查看答案" styleClass="hint-label" />
            </StackPane>
            
            <HBox spacing="12.0" alignment="CENTER">
                <Button fx:id="showAnswerBtn" text="显示翻译" onAction="#onShowAnswerClick" styleClass="button" />
                <Button fx:id="knownBtn" text="已掌握" onAction="#onKnownClick" styleClass="success-button" disable="true" />
                <Button fx:id="unknownBtn" text="再学一次" onAction="#onUnknownClick" styleClass="warning-button" disable="true" />
            </HBox>
        </VBox>
        
        <Label fx:id="learningStatusLabel" text="" />
    </VBox>

</VBox>
